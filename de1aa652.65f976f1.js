(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{111:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return a})),r.d(t,"metadata",(function(){return c})),r.d(t,"toc",(function(){return s})),r.d(t,"default",(function(){return p}));var n=r(3),o=r(7),i=(r(0),r(116)),a={id:"csv-import",title:"CSV Bulk Import via Command Line"},c={unversionedId:"csv-import",id:"csv-import",isDocsHomePage:!1,title:"CSV Bulk Import via Command Line",description:"Create a new CSV file",source:"@site/docs/csv-import.md",slug:"/csv-import",permalink:"/docs/csv-import",editUrl:"https://github.com/webprofusion/certify-docs/edit/master/docs/csv-import.md",version:"current",sidebar:"docs",previous:{title:"Command Line (CLI) Options",permalink:"/docs/commandline"},next:{title:"Background Service",permalink:"/docs/backgroundservice"}},s=[{value:"Create a new CSV file",id:"create-a-new-csv-file",children:[]},{value:"Perform CSV import",id:"perform-csv-import",children:[]},{value:"Requesting Certificates after CSV Import",id:"requesting-certificates-after-csv-import",children:[]}],l={toc:s};function p(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},l,r,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"You can perform a bulk import of managed sites (requires the registered version) from a CSV file using the following method:"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Note: Bulk import of more than 200 domains/managed certificates in one batch is not recommended. The app can handle thousands of new items but the ACME CA (Let's Encrypt) API will rate limit requests. If your domains fail to renew (DNS issues etc), it's easier to troubleshoot a smaller number of domains. Large bulk imports are not recommended for mass migration from one server to another.")),Object(i.b)("h2",{id:"create-a-new-csv-file"},"Create a new CSV file"),Object(i.b)("p",null,"Your file should be in the format IIS SiteID, Name, Domain1;Domain2;Domain3"),Object(i.b)("p",null,"Such as:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"0, Test, test.com;www.test.com\n3, TestSite2(Test again), example.com;subdomain.example.com\n\n")),Object(i.b)("h2",{id:"perform-csv-import"},"Perform CSV import"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Open a new Command Prompt (Run as Administrator).")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"cd C:\\Program Files (x86)\\Certify\\\n\ncertify importcsv c:\\temp\\sites.csv\n")),Object(i.b)("p",null,"If you have the main Certify SSL Manager UI open you will see the sites being added as they are imported. Once added you can then modify any required settings."),Object(i.b)("p",null,"Performing the same import twice will create duplicates so you should backup your c:\\programdata\\certify\\manageditems.db first in case you need to restore it."),Object(i.b)("h2",{id:"requesting-certificates-after-csv-import"},"Requesting Certificates after CSV Import"),Object(i.b)("p",null,"The import will set up new managed certificates in the app but will not request or apply any certificates until the next automated renewal run (which is hourly)."),Object(i.b)("p",null,"To initiate the certificate requests immediately use the command line 'renew' option as Administrator, which will perform requests and deployment for all pending certificate renewals (including certificates not yet requested):"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"C:\\Program Files\\CertifyTheWeb> certify renew")),Object(i.b)("h1",{id:"advanced-csv-options"},"Advanced CSV options"),Object(i.b)("p",null,"You can optionally specify the CSV columns to import and their order by specifying a header row including any of:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-CSV"},"siteid, name, domains, primarydomain, includeinautorenew, performautoconfig,performchallengefilecopy, performextensionlessconfigchecks,performtlssnibindingconfigchecks,performautomatedcertbinding,enablefailurenotifications, prerequestpowershellscript, postrequestpowershellscript, webhooktrigger, webhookmethod, webhookurl,webhookcontenttype, webhookcontentbody\n")))}p.isMDXComponent=!0},116:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return f}));var n=r(0),o=r.n(n);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=o.a.createContext({}),p=function(e){var t=o.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},m=function(e){var t=p(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,a=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=p(r),d=n,f=m["".concat(a,".").concat(d)]||m[d]||u[d]||i;return r?o.a.createElement(f,c(c({ref:t},l),{},{components:r})):o.a.createElement(f,c({ref:t},l))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,a[1]=c;for(var l=2;l<i;l++)a[l]=r[l];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"}}]);