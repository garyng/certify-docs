(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{106:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return c})),o.d(t,"metadata",(function(){return i})),o.d(t,"toc",(function(){return s})),o.d(t,"default",(function(){return p}));var n=o(3),r=o(7),a=(o(0),o(116)),c={id:"tomcat",title:"Apache Tomcat"},i={unversionedId:"deployment/tasks/tomcat",id:"deployment/tasks/tomcat",isDocsHomePage:!1,title:"Apache Tomcat",description:"Specific configuration of Apache Tomcat for individual requirements is outside of the scope of this documentation however the following is a suggested (working) configuration process for a default install of Tomcat 9.0:",source:"@site/docs/deployment/tasks/tomcat.md",slug:"/deployment/tasks/tomcat",permalink:"/docs/deployment/tasks/tomcat",editUrl:"https://github.com/webprofusion/certify-docs/edit/master/docs/deployment/tasks/tomcat.md",version:"current"},s=[{value:"Enable SSL on your Tomcat connector",id:"enable-ssl-on-your-tomcat-connector",children:[]},{value:"Add a &#39;Deploy to Tomcat&#39; Deployment Task",id:"add-a-deploy-to-tomcat-deployment-task",children:[]},{value:"Add a &#39;Stop, Start or Restart a Service..&#39; Deployment Task",id:"add-a-stop-start-or-restart-a-service-deployment-task",children:[]}],l={toc:s};function p(e){var t=e.components,o=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},l,o,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Specific configuration of Apache Tomcat for individual requirements is outside of the scope of this documentation however the following is a suggested (working) configuration process for a default install of Tomcat 9.0:"),Object(a.b)("h2",{id:"enable-ssl-on-your-tomcat-connector"},"Enable SSL on your Tomcat connector"),Object(a.b)("p",null,"Edit ",Object(a.b)("inlineCode",{parentName:"p"},"conf/server.xml"),", locate the connector with ",Object(a.b)("inlineCode",{parentName:"p"},"SSLHostConfig"),", uncomment and edit as required. See also ",Object(a.b)("a",{parentName:"p",href:"https://tomcat.apache.org/tomcat-9.0-doc/ssl-howto.html#Edit_the_Tomcat_Configuration_File"},"https://tomcat.apache.org/tomcat-9.0-doc/ssl-howto.html#Edit_the_Tomcat_Configuration_File")),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre"},'    <Connector port="8443" protocol="org.apache.coyote.http11.Http11NioProtocol"\n               maxThreads="150" SSLEnabled="true">\n        <SSLHostConfig>\n            <Certificate \n               certificateKeystoreFile="conf/certs/test.pfx" \n               certificateKeystoreType="pkcs12" \n               certificateKeystorePassword="" \n               sslProtocol="TLS"\n               type="RSA" />\n        </SSLHostConfig>\n    </Connector>\n\n')),Object(a.b)("h2",{id:"add-a-deploy-to-tomcat-deployment-task"},"Add a 'Deploy to Tomcat' Deployment Task"),Object(a.b)("p",null,"In your Managed Certificate, under Tasks, add a new ",Object(a.b)("inlineCode",{parentName:"p"},"Deploy to Tomcat")," deployment task, providing the destination path for your PFX file. "),Object(a.b)("p",null,"When the deployment task is next executed the certificate will be exported as a PFX file to this location."),Object(a.b)("h2",{id:"add-a-stop-start-or-restart-a-service-deployment-task"},"Add a 'Stop, Start or Restart a Service..' Deployment Task"),Object(a.b)("p",null,"Then, add a task to Restart the Apache Tomcat service. "),Object(a.b)("p",null,"As certificate renewals happen as required (at any time), you may wish to set the Task Trigger to be Manual so that the service restart can happen either during a maintenance window or as a scheduled task."))}p.isMDXComponent=!0},116:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return f}));var n=o(0),r=o.n(n);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=r.a.createContext({}),p=function(e){var t=r.a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},d=function(e){var t=p(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=p(o),m=n,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||a;return o?r.a.createElement(f,i(i({ref:t},l),{},{components:o})):r.a.createElement(f,i({ref:t},l))}));function f(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,c=new Array(a);c[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var l=2;l<a;l++)c[l]=o[l];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,o)}m.displayName="MDXCreateElement"}}]);